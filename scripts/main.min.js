window.addEventListener("load",function(){document.body.addEventListener("click",function(a){var c=getTarget(a.target);c.href&&0==a.button&&c.origin==document.location.origin&&window.history&&history.pushState&&(a.preventDefault(),setContent(c.href),setMenuOpen(!1))})},!1);window.onpopstate=function(a){window.history&&history.pushState&&(a.preventDefault(),setContent(document.location.href))};function getTarget(a){if(a.href)return a;if(a!=document.body)return getTarget(a.parentNode)}
Handlebars.registerHelper("booleanToYesNo",function(a){return a?"yes":"no"});Handlebars.registerHelper("smallerFont",function(a){return 15<=a.length?'class="smaller_text" ':""});function setContent(a){document.getElementById("content").style.opacity=.5;getContent(a,function(c){document.getElementById("content").innerHTML=c;document.getElementById("content").style.opacity=1;window.history.pushState({},"",a)})}
function getContent(a,c){var b,d=new XMLHttpRequest;d.onreadystatechange=function(){if(4==d.readyState)if("home"==b)c(Handlebars.templates[b]());else{var a={};a[b]=JSON.parse(d.responseText);c(Handlebars.templates[b](a))}};/^http:\/\/vermintideutility.com\/?$/.test(a)?(b="home",d.open("GET","http://vermintideutility.com",!0)):(/heroes\/?/.test(a)&&(b=/heroes\/[a-zA-Z',\-\s]+\/?$/.test(a)?"hero":"heroes"),/enemies\/?/.test(a)&&(b=/enemies\/[a-zA-Z',\-\s]+\/?$/.test(a)?"enemy":"enemies"),/weapon\/?/.test(a)&&
(b=/weapons\/[a-zA-Z',\-\s]+\/?$/.test(a)?"weapon":"weapons"),/trinkets\/?/.test(a)&&(b=/trinkets\/[a-zA-Z',\-\s]+\/?$/.test(a)?"trinket":"trinkets"),d.open("GET",a.replace("http://","http://api."),!0));d.send()}function setMenuOpen(a){a?document.getElementById("menu").className="expanded":document.getElementById("menu").className=""};
